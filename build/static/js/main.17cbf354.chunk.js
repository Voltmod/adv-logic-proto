(this["webpackJsonpcalculator-proto"]=this["webpackJsonpcalculator-proto"]||[]).push([[0],{27:function(e,t,n){},31:function(e,t,n){},39:function(e,t){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(5),l=n.n(c),r=n(18),u=n.n(r),o=(n(27),n(9)),i=n(3),s=n(6),j=n(19),d=n.n(j),b=n(42),O=(n(31),[{id:1,name:"(",autocomplete:!0},{id:2,name:")",autocomplete:!0},{id:3,name:"+",autocomplete:!0},{id:4,name:"-",autocomplete:!0},{id:5,name:"*",autocomplete:!0},{id:6,name:"/",autocomplete:!0},{id:7,name:"^",autocomplete:!0},{id:8,name:"sqrt("}]),m=O.filter((function(e){return e.autocomplete})),v=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],l=t[1],r=Object(c.useState)({error:null,value:null}),u=Object(s.a)(r,2),j=u[0],v=u[1],p=Object(c.useState)([]),f=Object(s.a)(p,2),h=f[0],x=f[1],g=Object(c.useState)({name:"",value:""}),y=Object(s.a)(g,2),C=y[0],S=y[1],w=Object(c.useRef)();Object(c.useEffect)((function(){var e=n.map((function(e){return e.defaultValue||e.name}));try{var t=Object(b.a)(e.join("")).compile();v({value:t.evaluate(),error:null})}catch(a){v({value:null,error:a.message})}}),[n]);var N=function(e){return RegExp(/^[+-]?\d+(\.\d+)?$/).test(e)},T=function(e){var t=e.name.trim();e.id||N(t)?l([].concat(Object(i.a)(n),[Object(o.a)(Object(o.a)({},e),{},{name:t})])):v({value:null,error:'"'.concat(t,'" input is not allowed. Numbers (integers/floats) only.')})},E=function(e){return function(t){var n,a,c,l,r,u=e.find((function(e){return String(e.id)===String(t.target.value)}));u&&T(u),null===w||void 0===w||null===(n=w.current)||void 0===n||null===(a=n.input)||void 0===a||null===(c=a.current)||void 0===c||null===(l=c.input)||void 0===l||null===(r=l.current)||void 0===r||r.focus()}};return Object(a.jsxs)("div",{className:"App-cont",children:[Object(a.jsxs)("select",{value:"calculator",name:"node_type",onChange:function(){},children:[Object(a.jsx)("option",{value:"calculator",children:"Calculator"}),Object(a.jsx)("option",{value:"router",children:"Router"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{value:C.name,type:"text",placeholder:"name",onChange:function(e){S((function(t){return Object(o.a)(Object(o.a)({},t),{},{name:e.target.value})}))}}),Object(a.jsx)("input",{value:C.value,type:"text",placeholder:"value",onChange:function(e){S((function(t){return Object(o.a)(Object(o.a)({},t),{},{value:e.target.value})}))}}),Object(a.jsx)("button",{onClick:function(){x((function(e){return[].concat(Object(i.a)(e),[{id:Date.now(),name:C.name,defaultValue:C.value}])})),S({name:"",value:""})},children:"Add"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("select",{value:"default",name:"operations",onChange:E(O),children:[Object(a.jsx)("option",{value:"default",disabled:!0,children:"Operations"}),O.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),0!==h.length&&Object(a.jsxs)("select",{value:"default",name:"variables",onChange:E(h),children:[Object(a.jsx)("option",{value:"default",disabled:!0,children:"Variables"}),h.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(a.jsx)("br",{}),Object(a.jsx)(d.a,{allowNew:!0,minQueryLength:1,onAddition:T,onDelete:function(e){var t=n.slice(0);t.splice(e,1),l(t)},placeholderText:"Typing an expression",ref:w,suggestions:[].concat(O,Object(i.a)(h)),tags:n,tagComponent:function(e){var t=e.tag;e.removeButtonText,e.onDelete;return Object(a.jsx)("button",{type:"button",className:"react-tags__selected-tag",children:t.name})},onInput:function(e){var t=e.trim(),a=m.find((function(e){return t.includes(e.name)}));if(a){var c=t.replace(a.name,"").trim();a.name.length===t.length?l([].concat(Object(i.a)(n),[a])):N(c)?l([].concat(Object(i.a)(n),[{name:c},a])):v({value:null,error:'"'.concat(c,'" input is not allowed. Numbers (integers/floats) only.')}),setTimeout((function(){w.current.clearInput()}),0)}}}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[null!==j.error&&Object(a.jsx)("b",{children:"Error: "}),null!==j.value&&Object(a.jsx)("b",{children:"Result: "}),j.error||j.value]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Expression values:"})," ",Object(a.jsx)("br",{}),Object(a.jsx)("ul",{children:n.map((function(e,t){return Object(a.jsx)("li",{children:Object(a.jsx)("code",{children:JSON.stringify(e)})},"".concat(e.name+t))}))})]})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,l=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),l(e),r(e)}))};u.a.render(Object(a.jsx)(l.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root")),p()}},[[40,1,2]]]);
//# sourceMappingURL=main.17cbf354.chunk.js.map