{"version":3,"sources":["AdvLogic/lib/Tag.js","AdvLogic/lib/Input.js","AdvLogic/lib/concerns/matchers.js","AdvLogic/lib/Suggestions.js","AdvLogic/lib/ReactTags.js","App.js","reportWebVitals.js","index.js"],"names":["overlayOptions","props","className","classNames","onClick","onInsertLeft","onInsertRight","onEdit","onDelete","Tag","placement","trigger","overlay","destroyTooltipOnHide","keepParent","type","selectedTag","tag","highlighted","title","editButtonText","style","pointerEvents","selectedTagName","name","SIZER_STYLES","position","width","height","visibility","overflow","whiteSpace","STYLE_PROPS","Input","state","inputWidth","input","React","createRef","sizer","this","autoresize","copyInputStyles","updateInputWidth","query","placeholder","inputStyle","window","getComputedStyle","current","forEach","prop","Math","ceil","scrollWidth","setState","id","ariaLabelText","placeholderText","expanded","inputAttributes","inputEventHandlers","index","searchWrapper","ref","value","searchInput","role","aria-autocomplete","aria-label","aria-owns","aria-activedescendant","aria-expanded","Component","escapeForRegExp","string","replace","markIt","regexp","RegExp","DefaultSuggestionComponent","item","dangerouslySetInnerHTML","__html","Suggestions","e","preventDefault","addTag","options","length","SuggestionComponent","suggestionComponent","map","key","push","suggestionActive","disabled","suggestionDisabled","join","aria-disabled","onMouseDown","bind","prefix","suggestionPrefix","disableMarkIt","suggestions","KEYS","findMatchIndex","findIndex","option","test","pressDelimiter","minQueryLength","match","allowNew","inputPosition","isInsertion","onBlur","pressUpKey","size","pressDownKey","pressBackspaceKey","deleteTag","tags","focus","pressEscapeKey","pressLeftArrowKey","pressRightArrowKey","getOptions","suggestionsTransform","filter","suggestionsFilter","noSuggestionsText","newTagPrefix","slice","maxSuggestionsLength","ReactTags","focused","onChange","onFocus","onInput","onKeyDown","container","prevQuery","prevSuggestions","autocompletion","operation","autocomplete","prevProps","prevState","rawQuery","target","trim","find","includes","number","expression","splice","addTags","validation","newConstant","onError","setTimeout","clearInput","delimiters","indexOf","call","allowBackspace","document","activeElement","addOnBlur","String","event","interactiveEls","querySelectorAll","currentEl","Array","prototype","element","currentTarget","nextEl","onValidate","toLowerCase","newTag","onAddition","i","search","TagComponent","tagComponent","onDeleteTag","onEditTag","onInsert","root","rootFocused","selected","aria-relevant","aria-live","renderInput","renderTagComponent","defaultProps","NODE_TYPE","MATH_OPERATIONS","longName","autoclose","LOGICAL_OPERATORS","ALLOWED_OPERATIONS","reduce","acc","math","create","all","contains","args","scope","strings","arg","rawArgs","import","App","useState","setTags","possibleOperations","setPossibleOperations","nodeType","setNodeType","result","error","execution","setExecution","dynamicVariables","setDynamicVariables","dvInput","setDvInput","maxAutoClose","setMaxAutoClose","useEffect","executionResult","Number","isNaN","evaluate","err","message","maxAutoCloseValue","max","testInput","useCallback","onSelectPredefined","predefinedArray","suggestedValue","Date","now","newTags","autoCloseOffset","offset","JSON","stringify","isInteger","listStyle","margin","padding","marginLeft","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"adv-logic-proto/build/static/js/main.7ef6d3ec.chunk.js","sourcesContent":["import React from 'react'\nimport Tooltip from 'rc-tooltip'\n\nconst overlayOptions = (props) => (\n  <ul className={props.classNames.overlayOptions}>\n    <li>Insert:</li>\n    <li>\n      <button onClick={props.onInsertLeft}>Left</button>\n      <button onClick={props.onInsertRight}>Right</button>\n    </li>\n    <li>Modify:</li>\n    <li>\n      <button onClick={props.onEdit}>Edit</button>\n      <button onClick={props.onDelete}>Delete</button>\n    </li>\n  </ul>\n)\n\nconst Tag = (props) => (\n  <Tooltip placement=\"top\" trigger={['click', 'focus']} overlay={overlayOptions(props)} destroyTooltipOnHide={{ keepParent: false }}>\n    <button\n      type='button'\n      className={`${props.classNames.selectedTag} ${props.tag.type ? `${props.classNames.highlighted}-${props.tag.type}` : ''}`}\n      title={props.editButtonText}\n    >\n      <span style={{ pointerEvents: 'none' }} className={props.classNames.selectedTagName}>{props.tag.name}</span>\n    </button>\n  </Tooltip>\n)\n\nexport default Tag\n","import React from 'react'\n\nconst SIZER_STYLES = {\n  position: 'absolute',\n  width: 0,\n  height: 0,\n  visibility: 'hidden',\n  overflow: 'scroll',\n  whiteSpace: 'pre'\n}\n\nconst STYLE_PROPS = [\n  'fontSize',\n  'fontFamily',\n  'fontWeight',\n  'fontStyle',\n  'letterSpacing',\n  'textTransform'\n]\n\nclass Input extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = { inputWidth: null }\n\n    this.input = React.createRef()\n    this.sizer = React.createRef()\n  }\n\n  componentDidMount () {\n    if (this.props.autoresize) {\n      this.copyInputStyles()\n      this.updateInputWidth()\n    }\n  }\n\n  componentDidUpdate ({ query, placeholder }) {\n    if (query !== this.props.query || placeholder !== this.props.placeholder) {\n      this.updateInputWidth()\n    }\n  }\n\n  copyInputStyles () {\n    const inputStyle = window.getComputedStyle(this.input.current)\n\n    STYLE_PROPS.forEach((prop) => {\n      this.sizer.current.style[prop] = inputStyle[prop]\n    })\n  }\n\n  updateInputWidth () {\n    let inputWidth\n\n    if (this.props.autoresize) {\n      // scrollWidth is designed to be fast not accurate.\n      // +2 is completely arbitrary but does the job.\n      inputWidth = Math.ceil(this.sizer.current.scrollWidth) + 2\n    }\n\n    if (inputWidth !== this.state.inputWidth) {\n      this.setState({ inputWidth })\n    }\n  }\n\n  render () {\n    const { id, query, ariaLabelText, placeholderText, expanded, classNames, inputAttributes, inputEventHandlers, index } = this.props\n\n    return (\n      <div className={classNames.searchWrapper}>\n        <input\n          {...inputAttributes}\n          {...inputEventHandlers}\n          ref={this.input}\n          value={query}\n          placeholder={placeholderText}\n          className={classNames.searchInput}\n          role='combobox'\n          aria-autocomplete='list'\n          aria-label={ariaLabelText || placeholderText}\n          aria-owns={id}\n          aria-activedescendant={index > -1 ? `${id}-${index}` : null}\n          aria-expanded={expanded}\n          style={{ width: this.state.inputWidth }}\n        />\n        <div ref={this.sizer} style={SIZER_STYLES}>{query || placeholderText}</div>\n      </div>\n    )\n  }\n}\n\nexport default Input\n","function escapeForRegExp (string) {\n  return string.replace(/[-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n}\n\nexport function matchAny (string) {\n  return new RegExp(escapeForRegExp(string), 'gi')\n}\n\nexport function matchPartial (string) {\n  return new RegExp(`(?:^|\\\\s)${escapeForRegExp(string)}`, 'i')\n}\n\nexport function matchExact (string) {\n  return new RegExp(`^${escapeForRegExp(string)}$`, 'i')\n}\n","import React from 'react'\nimport { matchAny } from './concerns/matchers'\n\nfunction markIt (name, query) {\n  const regexp = matchAny(query)\n  return name.replace(regexp, '<mark>$&</mark>')\n}\n\nconst DefaultSuggestionComponent = ({ item, query }) => (\n  <span dangerouslySetInnerHTML={{ __html: markIt(item.name, query) }} />\n)\n\nclass Suggestions extends React.Component {\n  onMouseDown (item, e) {\n    // focus is shifted on mouse down but calling preventDefault prevents this\n    e.preventDefault()\n    this.props.addTag(item)\n  }\n\n  render () {\n    if (!this.props.expanded || !this.props.options.length) {\n      return null\n    }\n\n    const SuggestionComponent = this.props.suggestionComponent || DefaultSuggestionComponent\n\n    const options = this.props.options.map((item, index) => {\n      const key = `${this.props.id}-${index}`\n      const classNames = []\n\n      if (this.props.index === index) {\n        classNames.push(this.props.classNames.suggestionActive)\n      }\n\n      if (item.disabled) {\n        classNames.push(this.props.classNames.suggestionDisabled)\n      }\n\n      return (\n        <li\n          id={key}\n          key={key}\n          role='option'\n          className={classNames.join(' ')}\n          aria-disabled={item.disabled === true}\n          onMouseDown={this.onMouseDown.bind(this, item)}\n        >\n          {item.prefix ? <span className={this.props.classNames.suggestionPrefix}>{item.prefix}</span> : null}\n          {item.disableMarkIt ? item.name\n            : <SuggestionComponent item={item} query={this.props.query} />}\n        </li>\n      )\n    })\n\n    return (\n      <div className={this.props.classNames.suggestions}>\n        <ul role='listbox' id={this.props.id}>{options}</ul>\n      </div>\n    )\n  }\n}\n\nexport default Suggestions\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport Tag from './Tag'\nimport Input from './Input'\nimport Suggestions from './Suggestions'\nimport { matchExact, matchPartial } from './concerns/matchers'\n\nconst KEYS = {\n  ENTER: 'Enter',\n  TAB: 'Tab',\n  BACKSPACE: 'Backspace',\n  UP_ARROW: 'ArrowUp',\n  UP_ARROW_COMPAT: 'Up',\n  DOWN_ARROW: 'ArrowDown',\n  DOWN_ARROW_COMPAT: 'Down',\n  LEFT_ARROW: 'ArrowLeft',\n  RIGHT_ARROW: 'ArrowRight',\n  ESCAPE: 'Escape'\n}\n\nconst CLASS_NAMES = {\n  root: 'react-tags',\n  rootFocused: 'is-focused',\n  selected: 'react-tags__selected',\n  selectedTag: 'react-tags__selected-tag',\n  selectedTagName: 'react-tags__selected-tag-name',\n  search: 'react-tags__search',\n  searchWrapper: 'react-tags__search-wrapper',\n  searchInput: 'react-tags__search-input',\n  suggestions: 'react-tags__suggestions',\n  suggestionActive: 'is-active',\n  suggestionDisabled: 'is-disabled',\n  suggestionPrefix: 'react-tags__suggestion-prefix',\n  overlayOptions: 'react-tags__overlay_options',\n  highlighted: 'react-tags__is-highlighted'\n}\n\nfunction findMatchIndex (options, query) {\n  return options.findIndex((option) => {\n    return matchExact(query).test(option.name)\n  })\n}\n\nfunction pressDelimiter () {\n  if (this.state.query.length >= this.props.minQueryLength) {\n    // Check if the user typed in an existing suggestion.\n    const match = findMatchIndex(this.state.options, this.state.query)\n\n    const index = this.state.index === -1 ? match : this.state.index\n\n    if (index > -1 && this.state.options[index]) {\n      this.addTag(this.state.options[index])\n    } else if (this.props.allowNew) {\n      this.addTag({ name: this.state.query })\n    }\n\n    if (this.state.inputPosition > -1 && !this.state.isInsertion) {\n      this.onBlur()\n    }\n  }\n}\n\nfunction pressUpKey (e) {\n  e.preventDefault()\n\n  // if first item, cycle to the bottom\n  const size = this.state.options.length - 1\n  this.setState({ index: this.state.index <= 0 ? size : this.state.index - 1 })\n}\n\nfunction pressDownKey (e) {\n  e.preventDefault()\n\n  // if last item, cycle to top\n  const size = this.state.options.length - 1\n  this.setState({ index: this.state.index >= size ? 0 : this.state.index + 1 })\n}\n\nfunction pressBackspaceKey () {\n  // when backspace key is pressed and query is blank, delete the last tag\n  if (!this.state.query.length) {\n    if (this.state.inputPosition === -1) {\n      this.deleteTag(this.props.tags.length - 1)\n    } else if (this.state.inputPosition > 0 && this.state.isInsertion) {\n      this.deleteTag(this.state.inputPosition - 1)\n      this.setState({\n        inputPosition: this.state.inputPosition - 1\n      }, () => {this.input.current.input.current.focus()})\n    }\n  }\n}\n\nfunction pressEscapeKey () {\n  // when escape key is pressed and input position is not the last\n  if (this.state.inputPosition !== -1) {\n    this.onBlur()\n  }\n}\n\nfunction pressLeftArrowKey () {\n  if (this.state.query === '' && this.props.tags.length > 0) {\n    let inputPosition = 0\n\n    if (this.state.inputPosition === -1) {\n      inputPosition = this.props.tags.length - 1\n    } else if (this.state.inputPosition > 0) {\n      inputPosition = this.state.inputPosition - 1\n    }\n\n    this.setState({\n      inputPosition,\n      isInsertion: true\n    }, () => {this.input.current.input.current.focus()})\n  }\n}\n\nfunction pressRightArrowKey () {\n  if (this.state.query === '' && this.props.tags.length > 0) {\n    let inputPosition = -1\n\n    if (this.state.inputPosition === -1 || (this.state.inputPosition + 1 === this.props.tags.length)) {\n      inputPosition = -1\n    } else if (this.state.inputPosition < this.props.tags.length - 1) {\n      inputPosition = this.state.inputPosition + 1\n    }\n\n    this.setState({\n      inputPosition,\n      isInsertion: inputPosition !== -1\n    }, () => {this.input.current.input.current.focus()})\n  }\n}\n\nfunction defaultSuggestionsFilter (item, query) {\n  const regexp = matchPartial(query)\n  return regexp.test(item.name)\n}\n\nfunction getOptions (props, state) {\n  let options\n\n  if (props.suggestionsTransform) {\n    options = props.suggestionsTransform(state.query, props.suggestions)\n  } else {\n    options = props.suggestions.filter((item) => props.suggestionsFilter(item, state.query))\n  }\n\n  if (options.length === 0 && props.noSuggestionsText && !props.newTagPrefix) {\n    options.push({ id: 0, name: props.noSuggestionsText, disabled: true, disableMarkIt: true })\n  }\n\n  options = options.slice(0, props.maxSuggestionsLength)\n\n  if (props.allowNew && props.newTagPrefix && findMatchIndex(options, state.query) < 0) {\n    options.push({ id: 0, name: state.query, prefix: props.newTagPrefix })\n  }\n\n  return options\n}\n\nclass ReactTags extends React.Component {\n  static getDerivedStateFromProps (props, state) {\n    if (state.prevQuery !== state.query || state.prevSuggestions !== props.suggestions) {\n      return {\n        prevQuery: state.query,\n        prevSuggestions: props.suggestions,\n        options: getOptions(props, state),\n        autocompletion: props.suggestions.filter(operation => operation.autocomplete)\n      }\n    }\n\n    return null\n  }\n\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      query: '',\n      focused: false,\n      index: -1,\n      inputPosition: -1,\n      isInsertion: false,\n    }\n\n    this.inputEventHandlers = {\n      // Provide a no-op function to the input component to avoid warnings\n      // <https://github.com/i-like-robots/react-tags/issues/135>\n      // <https://github.com/facebook/react/issues/13835>\n      onChange: () => {},\n      onBlur: this.onBlur.bind(this),\n      onFocus: this.onFocus.bind(this),\n      onInput: this.onInput.bind(this),\n      onKeyDown: this.onKeyDown.bind(this)\n    }\n\n    this.container = React.createRef()\n    this.input = React.createRef()\n    this.suggestions = React.createRef()\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (prevProps.tags !== this.props.tags) {\n      this.input.current.input.current.focus()\n\n      if (this.props.tags.length === 0) {\n        this.setState({\n          index: -1,\n          inputPosition: -1,\n          isInsertion: false\n        })\n      }\n    }\n  }\n\n  onInput (e) {\n    const rawQuery = e.target.value\n    const query = rawQuery.trim()\n\n\n    if (this.props.onInput) {\n      this.props.onInput()\n    }\n\n    if (this.state.inputPosition === -1 || this.state.isInsertion) {\n      const operation = this.state.autocompletion.find(item => query.includes(item.name))\n\n      if (operation) {\n        const number = query.replace(operation.name, '').trim()\n        if (operation.name.length === query.length) {\n          if (this.state.isInsertion) {\n            const expression = this.props.tags\n            expression.splice(this.state.inputPosition, 0, operation)\n            this.props.addTags([...expression])\n            this.setState({ inputPosition: this.state.inputPosition + 1 })\n          } else {\n            this.props.addTags([...this.props.tags, operation])\n          }\n        } else if (this.props.validation(number)) {\n          const newConstant = { name: number }\n          if (this.state.isInsertion) {\n            const expression = this.props.tags\n            expression.splice(this.state.inputPosition, 0, newConstant, operation)\n            this.props.addTags([...expression])\n            this.setState({ inputPosition: this.state.inputPosition + 2 })\n          } else {\n            this.props.addTags([...this.props.tags, newConstant, operation])\n          }\n        } else {\n          this.props.onError(number)\n        }\n\n        // because this state change should happen after input state were set\n        setTimeout(() => {\n          this.clearInput()\n        }, 0)\n      }\n    }\n\n    // NOTE: This test is a last resort for soft keyboards and browsers which do not\n    // support `KeyboardEvent.key`.\n    // <https://bugs.chromium.org/p/chromium/issues/detail?id=763559>\n    // <https://bugs.chromium.org/p/chromium/issues/detail?id=118639>\n    if (\n      query.length === this.state.query.length + 1 &&\n      this.props.delimiters.indexOf(query.slice(-1)) > -1\n    ) {\n      pressDelimiter.call(this)\n    } else if (rawQuery !== this.state.query) {\n      this.setState({ query: rawQuery })\n    }\n  }\n\n  onKeyDown (e) {\n    // when one of the terminating keys is pressed, add current query to the tags\n    if (this.props.delimiters.indexOf(e.key) > -1) {\n      if (this.state.query || this.state.index > -1) {\n        e.preventDefault()\n      }\n\n      pressDelimiter.call(this)\n    }\n\n    // when backspace key is pressed and query is blank, delete the last tag\n    if (e.key === KEYS.BACKSPACE && this.props.allowBackspace) {\n      pressBackspaceKey.call(this, e)\n    }\n\n    if (e.key === KEYS.UP_ARROW || e.key === KEYS.UP_ARROW_COMPAT) {\n      pressUpKey.call(this, e)\n    }\n\n    if (e.key === KEYS.DOWN_ARROW || e.key === KEYS.DOWN_ARROW_COMPAT) {\n      pressDownKey.call(this, e)\n    }\n\n    if (e.key === KEYS.ESCAPE) {\n      pressEscapeKey.call(this, e)\n    }\n\n    if (e.key === KEYS.LEFT_ARROW) {\n      pressLeftArrowKey.call(this, e)\n    }\n\n    if (e.key === KEYS.RIGHT_ARROW) {\n      pressRightArrowKey.call(this, e)\n    }\n  }\n\n  onClick (e) {\n    if (document.activeElement !== e.target) {\n      this.input.current.input.current.focus()\n    }\n  }\n\n  onBlur () {\n    this.setState({ focused: false, index: -1 })\n\n    if (this.props.onBlur) {\n      this.props.onBlur()\n    }\n\n    if (this.props.addOnBlur) {\n      pressDelimiter.call(this)\n    }\n\n    if (this.state.inputPosition !== -1) {\n      if (\n        String(this.props.tags[this.state.inputPosition].name) !== String(this.state.query) &&\n        String(this.state.query).trim() !== ''\n      ) {\n        this.addTag({ name: this.state.query })\n      } else {\n        this.setState({ inputPosition: -1, isInsertion: false }, () => {this.clearInput()})\n      }\n    }\n  }\n\n  onFocus () {\n    this.setState({ focused: true })\n\n    if (this.props.onFocus) {\n      this.props.onFocus()\n    }\n  }\n\n  onDeleteTag (index, event) {\n    // Because we'll destroy the element with cursor focus we need to ensure\n    // it does not get lost and move it to the next interactive element\n    if (this.container.current) {\n      const interactiveEls = this.container.current.querySelectorAll('a,button,input')\n\n      const currentEl = Array.prototype.findIndex.call(interactiveEls, (element) => {\n        return element === event.currentTarget\n      })\n\n      const nextEl = interactiveEls[currentEl - 1] || interactiveEls[currentEl + 1]\n\n      if (nextEl) {\n        nextEl.focus()\n      }\n    }\n\n    this.deleteTag(index)\n  }\n\n  addTag (tag) {\n    if (tag.disabled) {\n      return\n    }\n\n    if (typeof this.props.onValidate === 'function' && !this.props.onValidate(tag)) {\n      return\n    }\n\n    if (this.state.inputPosition !== -1) {\n      if (this.state.isInsertion) {\n        this.setState({ inputPosition: this.state.inputPosition + 1 })\n      } else {\n        this.setState({ inputPosition: -1 })\n      }\n    }\n\n    const value = tag.id ? tag.name.trim() : tag.name.trim().toLowerCase()\n\n    if (tag.id || this.props.validation(value)) {\n      const newTag = { ...tag, name: value}\n      if (this.state.inputPosition > -1) {\n        const expression = this.props.tags\n        expression.splice(this.state.inputPosition, this.state.isInsertion ? 0 : 1, newTag)\n        this.props.addTags([...expression])\n      } else {\n        this.props.addTags([...this.props.tags, newTag])\n      }\n    } else {\n      this.props.onError(value)\n      this.setState({ inputPosition: -1, isInsertion: false }, () => {this.input.current.input.current.focus()})\n    }\n\n    if (this.props.onAddition) {\n      this.props.onAddition(tag, this.state.inputPosition, this.state.isInsertion)\n    }\n\n    this.clearInput()\n  }\n\n  deleteTag (i) {\n    const expression = this.props.tags\n    expression.splice(i, 1)\n\n    this.props.addTags([...expression])\n\n    if (this.props.onDelete) {\n      this.props.onDelete(i)\n    }\n  }\n\n  clearInput () {\n    this.setState({\n      query: '',\n      index: -1\n    })\n  }\n\n  onInsert (index) {\n    this.setState(\n      {\n        query: '',\n        inputPosition: this.props.tags.length <= index ? -1 : index,\n        isInsertion: this.props.tags.length >= index\n      },\n      () => {this.input.current.input.current.focus()}\n    )\n  }\n\n  onEditTag (index) {\n    this.setState(\n      {\n        query: this.props.tags[index].name,\n        inputPosition: index\n      },\n      () => {this.input.current.input.current.focus()}\n    )\n  }\n\n  renderInput (i) {\n    const expanded = this.state.focused && this.state.query.length >= this.props.minQueryLength\n\n    return (\n      <div className={this.props.classNames.search} key={i}>\n        <Input\n          {...this.state}\n          id={this.props.id}\n          ref={this.input}\n          classNames={this.props.classNames}\n          inputAttributes={this.props.inputAttributes}\n          inputEventHandlers={this.inputEventHandlers}\n          autoresize={this.props.autoresize}\n          expanded={expanded}\n          placeholderText={this.props.placeholderText}\n          ariaLabelText={this.props.ariaLabelText}\n        />\n        <Suggestions\n          {...this.state}\n          id={this.props.id}\n          ref={this.suggestions}\n          classNames={this.props.classNames}\n          expanded={expanded}\n          addTag={this.addTag.bind(this)}\n          suggestionComponent={this.props.suggestionComponent}\n        />\n      </div>\n    )\n  }\n\n  renderTagComponent (tag, i) {\n    const TagComponent = this.props.tagComponent || Tag\n\n    return (\n      <TagComponent\n        key={i}\n        tag={tag}\n        editButtonText={this.props.editButtonText}\n        classNames={this.props.classNames}\n        onDelete={this.onDeleteTag.bind(this, i)}\n        onEdit={this.onEditTag.bind(this, i)}\n        onInsertLeft={this.onInsert.bind(this, i)}\n        onInsertRight={this.onInsert.bind(this, i + 1)}\n      />\n    )\n  }\n\n  render () {\n    const classNames = [this.props.classNames.root]\n\n    this.state.focused && classNames.push(this.props.classNames.rootFocused)\n\n    return (\n      <div ref={this.container} className={classNames.join(' ')} onClick={this.onClick.bind(this)}>\n        <div\n          className={this.props.classNames.selected}\n          aria-relevant='additions removals'\n          aria-live='polite'\n        >\n          {this.props.tags.map((tag, i) => {\n              if (this.state.inputPosition === i && this.state.isInsertion) {\n                return (\n                  <Fragment key={i}>\n                    {this.renderInput()}\n                    {this.renderTagComponent(tag)}\n                  </Fragment>\n                )\n              }\n\n              if (this.state.inputPosition === -1) {\n                return this.renderTagComponent(tag, i)\n              } else {\n                if (this.state.inputPosition === i) {\n                  return this.renderInput(i)\n                } else {\n                  return this.renderTagComponent(tag, i)\n                }\n              }\n            }\n          )}\n        </div>\n        {\n          this.state.inputPosition < 0 && this.renderInput()\n        }\n      </div>\n    )\n  }\n}\n\nReactTags.defaultProps = {\n  id: 'ReactTags',\n  tags: [],\n  placeholderText: ' ',\n  editButtonText: 'Click to edit value',\n  noSuggestionsText: null,\n  suggestions: [],\n  suggestionsFilter: defaultSuggestionsFilter,\n  suggestionsTransform: null,\n  autoresize: true,\n  classNames: CLASS_NAMES,\n  delimiters: [KEYS.TAB, KEYS.ENTER],\n  minQueryLength: 2,\n  maxSuggestionsLength: 6,\n  allowNew: false,\n  newTagPrefix: null,\n  allowBackspace: true,\n  addOnBlur: false,\n  tagComponent: null,\n  suggestionComponent: null,\n  inputAttributes: {}\n}\n\nReactTags.propTypes = {\n  validation: PropTypes.func,\n  addTags: PropTypes.func.isRequired,\n  id: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  placeholderText: PropTypes.string,\n  ariaLabelText: PropTypes.string,\n  editButtonText: PropTypes.string,\n  noSuggestionsText: PropTypes.string,\n  suggestions: PropTypes.arrayOf(PropTypes.object),\n  suggestionsFilter: PropTypes.func,\n  suggestionsTransform: PropTypes.func,\n  autoresize: PropTypes.bool,\n  delimiters: PropTypes.arrayOf(PropTypes.string),\n  onDelete: PropTypes.func,\n  onAddition: PropTypes.func,\n  onInput: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onValidate: PropTypes.func,\n  minQueryLength: PropTypes.number,\n  maxSuggestionsLength: PropTypes.number,\n  classNames: PropTypes.object,\n  allowNew: PropTypes.bool,\n  newTagPrefix: PropTypes.string,\n  allowBackspace: PropTypes.bool,\n  addOnBlur: PropTypes.bool,\n  tagComponent: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element\n  ]),\n  suggestionComponent: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element\n  ]),\n  inputAttributes: PropTypes.object\n}\n\nexport default ReactTags\n","import React, { useState, useEffect, useCallback } from 'react'\nimport AdvLogicNode from '../src/AdvLogic/lib/ReactTags'\nimport { create, all } from 'mathjs'\nimport './App.css'\n\n// Constants and input data\nconst NODE_TYPE = {\n  CALC: 1,\n  ROUTE: 2\n}\nconst MATH_OPERATIONS = [\n  { id: 'c_1', name: '(', autocomplete: true },\n  { id: 'c_2', name: ')', autocomplete: true },\n  { id: 'c_3', name: '+', autocomplete: true },\n  { id: 'c_4', name: '-', autocomplete: true },\n  { id: 'c_5', name: '*', longName: '* (multiplication)', autocomplete: true },\n  { id: 'c_6', name: '/', longName: '/ (division)', autocomplete: true },\n  { id: 'c_7', name: '^', longName: '^ (power)', autocomplete: true },\n  { id: 'c_8', name: 'sqrt(', longName: 'sqrt(x) - square root', autoclose: 1 }\n]\nconst LOGICAL_OPERATORS = [\n  { id: 'r_1', name: '>', longName: '> (greater than)' },\n  { id: 'r_2', name: '<', longName: '< (less than)' },\n  { id: 'r_3', name: '>=', longName: '>= (greater than or equal to)', autocomplete: true },\n  { id: 'r_4', name: '<=', longName: '<= (less than or equal to)', autocomplete: true },\n  { id: 'r_5', name: '==', longName: '== (is equal)', autocomplete: true },\n  { id: 'r_6', name: '!=', longName: '!= (not equal)', autocomplete: true },\n  { id: 'r_7', name: 'contains(', longName: 'contains(x, y) - contains y in x', autoclose: 3 },\n  { id: 'r_8', name: 'and', longName: 'logical AND' },\n  { id: 'r_9', name: 'or', longName: 'logical OR' },\n  { id: 'r_10', name: 'not', longName: 'logical NOT' },\n]\nconst SEPARATORS = [\n  { id: 's_1', name: ',' }\n]\nconst ALLOWED_OPERATIONS = [...MATH_OPERATIONS, ...LOGICAL_OPERATORS, ...SEPARATORS].reduce((acc, item) => {\n  acc.push(item.name)\n  return acc\n}, [])\n\n// Extends MathJS functionality before launch App\nconst math = create(all)\nconst contains = (args, math, scope) => {\n  const strings = args.map((arg) => {\n    return String(arg.value).trim().toLowerCase()\n  })\n  return strings[0].includes(strings[1])\n}\ncontains.rawArgs = true\nmath.import({ contains })\n\n// Main APP\nconst App = () => {\n  const [tags, setTags] = useState([])\n  const [possibleOperations, setPossibleOperations] = useState([...MATH_OPERATIONS])\n  const [nodeType, setNodeType] = useState(NODE_TYPE.CALC)\n  const [execution, setExecution] = useState({ result: null, error: null })\n  const [dynamicVariables, setDynamicVariables] = useState([{type: 2, name: 'Label', id: 1}, {type: 3, name: 'Lead Name', id: 2}])\n  const [dvInput, setDvInput] = useState({ name: '', value: '' })\n  const [maxAutoClose, setMaxAutoClose] = useState(0)\n\n  useEffect(() => {\n    const executionResult = (tags.map(item => {\n      let value = item.value ?? item.name\n      return (ALLOWED_OPERATIONS.includes(value) || !Number.isNaN(Number(value))) ? value : `'${value}'`\n    })).join(' ')\n    try {\n      if (nodeType === NODE_TYPE.ROUTE && tags.length === 0) {\n        setExecution({ result: true, error: null })\n      } else {\n        setExecution({ result: math.evaluate(executionResult), error: null })\n      }\n    } catch (err) {\n      setExecution({ result: null, error: err.message })\n    }\n  }, [nodeType, tags])\n\n  useEffect(() => {\n    if (nodeType === NODE_TYPE.CALC) {\n      setPossibleOperations([...MATH_OPERATIONS])\n    }\n    if (nodeType === NODE_TYPE.ROUTE) {\n      setPossibleOperations([...MATH_OPERATIONS, ...LOGICAL_OPERATORS])\n    }\n    setTags([])\n  }, [nodeType])\n\n  useEffect(() => {\n    const maxAutoCloseValue = possibleOperations.reduce((max, item) => {\n      return (item.autoclose && item.autoclose > max) ? item.autoclose : max\n    }, 0)\n    setMaxAutoClose(maxAutoCloseValue)\n  }, [possibleOperations])\n\n  const testInput = useCallback(\n    (value) => {\n      if (nodeType === NODE_TYPE.CALC) {\n        return RegExp(/^[+-]?\\d+(\\.\\d+)?$/).test(value)\n      }\n      return true\n    },\n    [nodeType]\n  )\n\n  const onSelectPredefined = (predefinedArray) => (e) => {\n    const suggestedValue = predefinedArray.find(item => String(item.id) === String(e.target.value))\n    if (suggestedValue) {\n      const value = suggestedValue.name.trim()\n      if (suggestedValue.id || testInput(suggestedValue)) {\n        setTags([...tags, { ...suggestedValue, name: value }])\n      } else {\n        onError(value)\n      }\n    }\n  }\n\n  const changeNodeType = (e) => {\n    setNodeType(Number(e.target.value))\n  }\n\n  const onError = (value) => {\n    setExecution({ result: null, error: `\"${value}\" input is not allowed. Numbers (integers/floats) only.` })\n  }\n\n  const handleSetTags = newTags => {\n    if (newTags.length > tags.length) {\n      const autoCloseOffset = newTags.length > maxAutoClose ? maxAutoClose : newTags.length\n      for (let offset = 0; offset <= autoCloseOffset; offset++) {\n        const itemAutoClose = newTags[newTags.length - 1 - offset]?.autoclose\n        if (itemAutoClose === offset) {\n          setTags([...newTags, { id: 'c_2', name: ')', autocomplete: true }])\n          break\n        } else {\n          setTags([...newTags])\n        }\n      }\n    } else {\n      setTags([...newTags])\n    }\n  }\n\n  return (\n    <div className=\"App-cont\">\n      <br/>\n\n      <div>Select node type: &nbsp;\n        <select\n          value={nodeType}\n          name=\"node_type\"\n          onChange={changeNodeType}\n        >\n          <option value={NODE_TYPE.CALC}>Advanced Calculator</option>\n          <option value={NODE_TYPE.ROUTE}>Advanced Router</option>\n        </select>\n\n        <p>Add dynamic variable:</p>\n        <input\n          value={dvInput.name}\n          type=\"text\"\n          placeholder=\"name\"\n          onChange={(e) => {\n            setDvInput((prevState) => ({\n              ...prevState,\n              name: e.target.value\n            }))\n          }}\n        />\n        <input\n          value={dvInput.value}\n          type=\"text\"\n          placeholder=\"default value\"\n          onChange={(e) => {\n            setDvInput((prevState) => ({\n              ...prevState,\n              value: e.target.value\n            }))\n          }}/>\n        <button onClick={() => {\n          setDynamicVariables((prevState) => (\n            // {type: 1, id: Number} - dynamic variable\n            // {type: 2, id: Number} - label\n            // {type: 10, id: 'leadName'} - lead name\n            // {type: 11, id: 'leadEmail'} - lead email\n            // {type: 12, id: 'leadPhone'} - lead phone\n            // {type: 13, id: 'leadCompany'} - lead company\n            // {type: 14, id: 'leadLocation'} - lead location\n            [...prevState, { id: Date.now(), name: dvInput.name, value: dvInput.value, type: 1 }]\n          ))\n          setDvInput({ name: '', value: '' })\n        }}>\n          Add\n        </button>\n      </div>\n\n      <br/>\n\n      <div>Add &nbsp;\n        <select\n          value=\"default\"\n          name=\"operations\"\n          onChange={onSelectPredefined(possibleOperations)}\n        >\n          <option value=\"default\" disabled>Operations</option>\n          {\n            possibleOperations.map((item) => <option key={item.id} value={item.id}>{item.longName || item.name}</option>)\n          }\n        </select>\n        {\n          dynamicVariables.length !== 0 && (\n            <select\n              value=\"default\"\n              name=\"variables\"\n              onChange={onSelectPredefined(dynamicVariables)}\n            >\n              <option value=\"default\" disabled>Variables</option>\n              {\n                dynamicVariables.map((item) =>\n                  <option key={item.id} value={item.id}>{item.name}</option>\n                )\n              }\n            </select>\n          )\n        }\n      </div>\n      <br/>\n\n      <AdvLogicNode\n        allowNew\n        minQueryLength={1}\n        suggestions={[...possibleOperations, ...dynamicVariables]}\n        tags={tags}\n        addTags={handleSetTags}\n        validation={testInput}\n        onError={onError}\n      />\n      <br/>\n\n      <div>\n        <b>Result: </b>\n        {String(nodeType === NODE_TYPE.ROUTE ? !!execution.result : execution.result)}\n        <br/><br/>\n        <b>Error: </b>\n        {String(execution.error)}\n      </div>\n      <br/>\n\n      <div>\n        <b>Data to save in DB:</b>\n        <code>\n          {JSON.stringify(tags.map(({ id, type, name }) => {\n            if (Number.isInteger(Number(id))) {\n              return { id, type }\n            } else {\n              return name\n            }\n          }))}\n        </code>\n      </div>\n      <br/>\n\n      <div>\n        <b>Raw state:</b> <code>[</code>\n        <ul style={{ listStyle: 'none', margin: 0, padding: 0 }}>\n          {tags.map((item, index) => <li style={{ marginLeft: 10 }} key={`${item.name + index}`}><code>{JSON.stringify(item)}</code></li>)}\n          <code>]</code>\n        </ul>\n      </div>\n\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}